language: python
python:
  - 2.7
  - 3.7
sudo: false
cache:
  directories:
  - eggs
env:
  matrix:
    - PLONE_VERSION=5.1
    - PLONE_VERSION=5.2
jobs:
  exclude:
    - python: 3.7
      env: PLONE_VERSION=5.1
matrix:
  fast_finish: true
install:
- sed -ie "s#test-5.1.x#test-$PLONE_VERSION.x#" buildout.cfg
- sed -ie "s#test-5.1.x#test-$PLONE_VERSION.x#" requirements.txt
- pip install -U pip
- pip install -r requirements.txt
- buildout annotate
- buildout
script:
- bin/test
